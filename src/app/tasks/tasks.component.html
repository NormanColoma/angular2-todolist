<div class="col-md-12">
    <div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading">Tasks</div>

      <!-- List group -->
      <ul class="list-group">
        <li class="list-group-item col-md-12" *ngFor="let task of tasks">
          
          <div class="col-md-10">
            <h4>{{task.name}}</h4>
            <p>{{task.description}}</p>
          </div>
          <div class="col-md-1"></div>
          <div class="col-md-1">
            <button type="button" class="btn btn-default btn-remove" 
            (click)='deleteTask(task._id)' aria-label="Delete Task" 
            data-toggle="modal" data-target="#myModal" >
              <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
            </button>
          </div>
          <div class="col-md-10">
            <div class="progress" *ngIf="!task.pending">
              <div class="progress-bar progress-bar-success" style="width: 100%">
                100%
              </div>
            </div>
            <div class="progress" *ngIf="task.pending">
              <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;">
                0%
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
</div>

<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 *ngIf='removed' class="modal-title">Task deleted</h4>
        <h4 *ngIf='!removed' class="modal-title">Server error</h4>
      </div>
      <div class="modal-body">
        <p *ngIf='removed'>Task was deleted succesfully!</p>
        <p *ngIf='!removed'>There was an error while deleting the task. Please try it again.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
